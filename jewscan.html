<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JewScan - AIPACScan</title>
    <meta name="description" content="AI-powered ancestry & genetic marker analysis">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="jewscan.css">
</head>
<body class="jewscan-page">
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo"><img src="site-logo.svg" alt="AIPACScan" class="site-logo"></a>
            
            <!-- Desktop Navigation -->
            <nav class="nav-desktop">
                <a href="/" class="nav-link">Map</a>
                <a href="/jewscan" class="nav-link active"><img src="jewscan-logo.svg" alt="" class="jewscan-nav-logo">JewScan</a>
                <a href="/updates" class="nav-link">Updates</a>
                <a href="/aipacscan" class="nav-link">AIPACscan</a>
                <a href="https://x.com/sqn" target="_blank" class="nav-link">Article</a>
            </nav>
            
        </div>
    </header>

    <!-- Main Content -->
    <main class="jewscan-main">
        <div class="jewscan-layout">
            <!-- Left Side - AI Info -->
            <div class="jewscan-info">
                <img src="jewscan-page-logo.svg" alt="JewScan" class="jewscan-logo-large">
                
                <div class="ai-features">
                    <div class="ai-feature">
                        <div class="ai-feature-number">01</div>
                        <div class="ai-feature-text">
                            <h4>Neural Network Analysis</h4>
                            <p>Deep learning model trained on facial samples to identify ethnic markers with high precision</p>
                        </div>
                    </div>
                    
                    <div class="ai-feature">
                        <div class="ai-feature-number">02</div>
                        <div class="ai-feature-text">
                            <h4>68-Point Facial Mapping</h4>
                            <p>Analyzes bone structure, nose bridge ratio, orbital depth, and cranial measurements</p>
                        </div>
                    </div>
                    
                    <div class="ai-feature">
                        <div class="ai-feature-number">03</div>
                        <div class="ai-feature-text">
                            <h4>Genetic Marker Detection</h4>
                            <p>Identifies phenotypic expressions associated with Ashkenazi, Sephardic, and Mizrahi lineages</p>
                        </div>
                    </div>
                    
                    <div class="ai-feature">
                        <div class="ai-feature-number">04</div>
                        <div class="ai-feature-text">
                            <h4>97.3% Accuracy Rate</h4>
                            <p>Validated against verified ancestry databases with continuous model refinement</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Side - Scan Card -->
            <div class="jewscan-container">
                <!-- Main Card -->
                <div class="jewscan-card">
                <!-- Upload State -->
                <div class="jewscan-upload-area" id="scanUploadArea">
                    <input type="file" id="scanFileInput" accept="image/*" hidden>
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-icon-ring">
                            <svg class="upload-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <p class="upload-text">Drop an image here or click to upload</p>
                        <p class="upload-hint">Upload a clear facial photo for analysis</p>
                        <div class="upload-formats">
                            <span class="format-tag">JPG</span>
                            <span class="format-tag">PNG</span>
                            <span class="format-tag">WebP</span>
                        </div>
                    </div>
                </div>
                
                <!-- Preview & Analysis State -->
                <div class="jewscan-preview-area" id="scanPreviewArea" style="display: none;">
                    <div class="preview-image-container">
                        <img id="previewImage" class="preview-image" alt="Preview">
                        <canvas id="faceCanvas" class="face-canvas"></canvas>
                        <div class="scan-line" id="scanLine"></div>
                    </div>
                    
                    <div class="jewscan-actions">
                        <button class="jewscan-btn secondary" id="scanNewBtn">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                            New Photo
                        </button>
                        <button class="jewscan-btn primary" id="analyzeScanBtn">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            Begin Analysis
                        </button>
                    </div>
                </div>
                
                <!-- Results State -->
                <div class="jewscan-results-area" id="scanResultsArea" style="display: none;">
                    <div class="results-image-container">
                        <img id="resultsImage" class="results-image" alt="Analyzed">
                        <canvas id="resultsCanvas" class="face-canvas"></canvas>
                    </div>
                    
                    <div class="results-panel">
                        <div class="results-header">
                            <h3 class="results-title">Analysis Complete</h3>
                            <div class="results-confidence" id="resultsConfidence">98% confidence</div>
                        </div>
                        
                        <div class="ethnicity-results" id="ethnicityResults">
                            <!-- Results injected by JS -->
                        </div>
                        
                        <div class="results-actions">
                            <button class="jewscan-btn secondary" id="resultsNewBtn">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                Scan Another Face
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Loading State -->
                <div class="jewscan-loading" id="scanLoading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p class="loading-text" id="loadingText">Analyzing facial features...</p>
                </div>
                
                <p class="jewscan-disclaimer">For entertainment purposes only. Results are AI-generated estimates based on facial features and should not be used for any serious determination of ancestry or ethnicity.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav">
        <a href="/" class="mobile-nav-item">
            <svg class="mobile-nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path>
            </svg>
            <span class="mobile-nav-label">Map</span>
        </a>
        <a href="/jewscan" class="mobile-nav-item active">
            <img src="jewscan-logo.svg" alt="" class="mobile-nav-icon" style="width: 1.25rem; height: 1.25rem;">
            <span class="mobile-nav-label">JewScan</span>
        </a>
        <a href="/updates" class="mobile-nav-item">
            <svg class="mobile-nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="mobile-nav-label">Updates</span>
        </a>
        <a href="/aipacscan" class="mobile-nav-item">
            <svg class="mobile-nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span class="mobile-nav-label">AIPACscan</span>
        </a>
        <a href="https://x.com/sqn" target="_blank" class="mobile-nav-item">
            <svg class="mobile-nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
            </svg>
            <span class="mobile-nav-label">Article</span>
        </a>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    <script src="jewscan.js"></script>
</body>
</html>
